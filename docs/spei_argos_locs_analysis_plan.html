<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="" />

<meta name="date" content="2023-05-23" />

<title>Spectacled Eider Satellite Transmitter Data Analysis Plan</title>

<script src="site_libs/header-attrs-2.20/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/main/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SPEI argos locations</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DJRIZZ/spei_argos_locs">
    <span class="fab fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Spectacled Eider Satellite Transmitter Data
Analysis Plan</h1>
<h4 class="author"></h4>
<h4 class="date">2023-05-23</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr <span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2023-05-23
</p>
<p>
<strong>Checks:</strong> <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>spei_argos_locs/</code> <span
class="glyphicon glyphicon-question-sign" aria-hidden="true"
title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="https://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/workflowr/workflowr">workflowr</a> (version
1.7.0). The <em>Checks</em> tab describes the reproducibility checks
that were applied when the results were created. The <em>Past
versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date
</a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git
repository, you know the exact version of the code that produced these
results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the
global environment can affect the analysis in your R Markdown file in
unknown ways. For reproduciblity it’s best to always run the code in an
empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20230203code">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Seed:</strong>
<code>set.seed(20230203)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20230203code"
class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20230203)</code> was run prior to running
the code in the R Markdown file. Setting a seed ensures that any results
that rely on randomness, e.g. subsampling or permutations, are
reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Session information:</strong>
recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package
versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be
confident that you successfully produced the results during this
run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr
project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomDJRIZZspeiargoslocstree454a2382e713c0bf4e5c6ab96318d6e1ef5e705atargetblank454a238a">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Repository version:</strong>
<a href="https://github.com/DJRIZZ/spei_argos_locs/tree/454a2382e713c0bf4e5c6ab96318d6e1ef5e705a" target="_blank">454a238</a>
</a>
</p>
</div>
<div
id="strongRepositoryversionstrongahrefhttpsgithubcomDJRIZZspeiargoslocstree454a2382e713c0bf4e5c6ab96318d6e1ef5e705atargetblank454a238a"
class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development
and connecting the code version to the results is critical for
reproducibility.
</p>
<p>
The results in this page were generated with repository version
<a href="https://github.com/DJRIZZ/spei_argos_locs/tree/454a2382e713c0bf4e5c6ab96318d6e1ef5e705a" target="_blank">454a238</a>.
See the <em>Past versions</em> tab to see a history of the changes made
to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for
the analysis have been committed to Git prior to generating the results
(you can use <code>wflow_publish</code> or
<code>wflow_git_commit</code>). workflowr only checks the R Markdown
file, but you know if there are other scripts or data files that it
depends on. Below is the status of the Git repository when the results
were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    analysis/.Rhistory
    Ignored:    code/.Rhistory
    Ignored:    data/spectacledEider_USGS_ASC_argos-reference-data.csv
    Ignored:    data/spectacledEider_USGS_ASC_argos.csv
    Ignored:    data/usgs_spei_argos_1993-2012_filtered.csv

Untracked files:
    Untracked:  code/commands_spei_argos_locs_workflowr.R

Unstaged changes:
    Modified:   .gitignore

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not
included in this status report because it is ok for generated content to
have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were
made to the R Markdown
(<code>analysis/spei_argos_locs_analysis_plan.Rmd</code>) and HTML
(<code>docs/spei_argos_locs_analysis_plan.html</code>) files. If you’ve
configured a remote Git repository (see <code>?wflow_git_remote</code>),
click on the hyperlinks in the table below to view the files as they
were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/DJRIZZ/spei_argos_locs/1b7866eed59b604d88c3adcd7bc284df9f2bf70e/docs/spei_argos_locs_analysis_plan.html" target="_blank">1b7866e</a>
</td>
<td>
DJRIZZ
</td>
<td>
2023-05-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/DJRIZZ/spei_argos_locs/blob/d265e5f1583b253dd88da4eec24770e8ed038ef3/analysis/spei_argos_locs_analysis_plan.Rmd" target="_blank">d265e5f</a>
</td>
<td>
DJRIZZ
</td>
<td>
2023-05-23
</td>
<td>
initial commit
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/DJRIZZ/spei_argos_locs/82aa92e254eaaabeffe988e17fdcf7914d996845/docs/spei_argos_locs_analysis_plan.html" target="_blank">82aa92e</a>
</td>
<td>
DJRIZZ
</td>
<td>
2023-05-23
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/DJRIZZ/spei_argos_locs/blob/e8805cf6a805c54ab1f316faa3c9eba39573b25a/analysis/spei_argos_locs_analysis_plan.Rmd" target="_blank">e8805cf</a>
</td>
<td>
DJRIZZ
</td>
<td>
2023-05-23
</td>
<td>
initial commit
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>Primary question of interest:</p>
<p>Has the timing and distribution of spectacled eiders changed in
comparison to what Petersen et al. (1999) and Sexson et al. (2014, 2016)
found. We have particular interest in changes in movements associated
with changes in sea ice.</p>
<p>The analysis will be based on the approach used by Lamb et al. (2020)
and uses state-space models to interpolate movement tracks of
individuals and assigns a movement persistence parameter to each
location. Specific estimates of interested:</p>
<ol style="list-style-type: decimal">
<li><p>Distance traveled during annual cycle and seasons within cycle
‘antiMotum’ package to fit state-space model to filter and interpolate
track of each marked eider (Jonsen et al. 2023) ‘move’ package to
estimate track distance (Setyawan et al. 2022)</p></li>
<li><p>Areas of concentrated use each part of the annual cycle
(breeding, molt, winter, pre-breeding) ‘antiMotum’ package to fit
state-space model to filter and interpolate track of each marked eider
(Jonsen et al. 2023) ‘ctmm’ package to estimate 50% and 95% utilization
distributions accounting for autocorrelation (Setyawan et
al. 2022)</p></li>
<li><p>Timing of movements: departure dates breeding area, molting area,
wintering area ‘antiMotum’ package to fit state-space model to filter
and interpolate track of each marked eider and assign movement
persistence parameter for each location (Jonsen et al. 2023)</p></li>
<li><p>Environmental factors (wind dir, air temp, sea ice cover)
correlated with departure timing from the wintering area ‘antiMotum’
package to fit state-space model to filter and interpolate track of each
marked eider and assign movement persistence mixed-effects linear models
with movement persistence parameter as response (Lamb et al. 2020,
Setyawan et al. 2022, Jonsen et al.2019, Jonsen et al. 2023</p></li>
</ol>
<p>Data considerations Given duty cycles with 5-6 breaks between
locations, missed transmission periods will create breaks of &gt; 10 d
which we may not be able interpolate. In these cases, those breaks would
be used as new start and end points for interpolated tracks with an
unknown movement track during the break. We’ll need to look at how
frequently and when these breaks happen to get a sense of how they might
affect the analysis.</p>
</div>
<div id="available-data" class="section level2">
<h2>Available data</h2>
<p>USGS data collected by Petersen et al. (1999) and Sexson et
al. (2014, 2016)</p>
<pre class="r"><code># load USGS data
locs_usgs &lt;- read.csv(&quot;data/spectacledEider_USGS_ASC_argos.csv&quot;, header = T)
#names(locs_usgs)

# how many locations by PTT ID?
table(locs_usgs$tag.local.identifier)</code></pre>
<pre><code>
11000 11001 11002 11003 11004 11005 11006 11007 11008 11009 11516 11517 11518 
  195   146   353   299   185   157   161   219   116   113   218    13    56 
11519 11520 11521 11522 11523 11524 15732 15733 15734 15735 15736 15737 15738 
   86    26    39    57    86    44   108    44    96    92    68    71   145 
15739 15744 15745 15746 20838 32982 32983 32984 32985 32991 32998 34399 41684 
  122    93    99     7   774     9    35     1  1346   371   347   550  1131 
41692 41693 41695 41696 41701 41711 41714 41721 41723 41728 41729 41730 41733 
 1196   482   769   966   503   398  1000  1227  1097   390  1158   312  1352 
41734 41738 41739 41740 57228 80804 80805 80806 80807 80808 80809 80810 80811 
  568  1306  1062   409   974   577  1316   578  1295   265   907   520   481 
80812 80813 80814 80815 80816 80817 80818 80819 80820 80821 80822 80823 80824 
  930  1123   475   308  1370   723   285   471   480   634  1004  1141  1035 
80825 80826 80827 80828 80829 80830 80831 80832 80833 80834 80835 80836 80837 
 1442   212   245  1171   258   204    25    48  1525  1660  1015  1654   203 
80838 80839 80840 80841 80842 80843 80844 80845 80846 80847 80848 80849 80850 
  292    37   169   736   439   100  1520    59  1063     7   289   591    45 
80851 80852 80853 80854 80855 80856 80857 80858 80859 80860 80861 80862 80863 
  237    88   120  1019   434   411   111   148   137     5   122    49   162 
80864 80865 80866 80867 80868 86261 86262 86263 86264 86265 86266 86270 86271 
  138   567   194    88    26   158   127   145   410   307  1350   173  1512 
86272 86275 86283 86284 86286 
  603   559   228  1488   571 </code></pre>
<pre class="r"><code>id_usgs_ptts &lt;- unique(locs_usgs$tag.local.identifier)
count_usgs_ptts &lt;- length(id_usgs_ptts)

# how many PTTs by month
#str(locs_usgs)

# convert date
timestamp &lt;- as.POSIXct(locs_usgs$timestamp, format = &quot;%m/%d/%y %H:%M&quot;, tz = &quot;UTC&quot;) 
locs_usgs$timestamp &lt;- timestamp

# extract year
locs_usgs$year &lt;- format(locs_usgs$timestamp, format = &quot;%Y&quot;)

# extract month
locs_usgs$month &lt;- format(locs_usgs$timestamp, format = &quot;%m&quot;)

# create month_year var
locs_usgs$yr_mo &lt;- paste(locs_usgs$year, locs_usgs$month, sep = &quot;_&quot;)

# ptt count by month across years
id_month &lt;- aggregate(data = locs_usgs,                # Applying aggregate
                          tag.local.identifier ~ month,
                          function(tag.local.identifier) length(unique(tag.local.identifier)))
print(id_month)</code></pre>
<pre><code>   month tag.local.identifier
1     01                   69
2     02                   65
3     03                   61
4     04                   52
5     05                   68
6     06                   98
7     07                   99
8     08                  131
9     09                  125
10    10                  118
11    11                   97
12    12                   81</code></pre>
<pre class="r"><code># ptt count by year_month
id_year_month &lt;- aggregate(data = locs_usgs,                # Applying aggregate
                          tag.local.identifier ~ yr_mo,
                          function(tag.local.identifier) length(unique(tag.local.identifier)))
print(id_year_month)</code></pre>
<pre><code>     yr_mo tag.local.identifier
1  1993_06                    7
2  1993_07                    8
3  1993_08                   12
4  1993_09                    9
5  1993_10                    7
6  1993_11                    4
7  1993_12                    1
8  1994_05                   11
9  1994_06                   20
10 1994_07                   18
11 1994_08                    6
12 1994_09                    2
13 1994_10                    3
14 1994_11                    2
15 1995_02                    1
16 1995_06                   10
17 1995_07                   13
18 1995_08                   27
19 1995_09                   20
20 1995_10                   17
21 1995_11                   11
22 1995_12                    8
23 1996_06                   12
24 1996_07                   14
25 1996_08                   18
26 1996_09                   14
27 1996_10                    8
28 1996_11                    5
29 2008_05                   26
30 2008_06                   45
31 2008_07                   45
32 2008_08                   45
33 2008_09                   44
34 2008_10                   44
35 2008_11                   43
36 2008_12                   41
37 2009_01                   40
38 2009_02                   39
39 2009_03                   39
40 2009_04                   33
41 2009_05                   31
42 2009_06                   50
43 2009_07                   49
44 2009_08                   47
45 2009_09                   45
46 2009_10                   44
47 2009_11                   41
48 2009_12                   39
49 2010_01                   38
50 2010_02                   28
51 2010_03                   21
52 2010_04                   17
53 2010_05                   14
54 2010_06                   21
55 2010_07                   25
56 2010_08                   39
57 2010_09                   39
58 2010_10                   36
59 2010_11                   28
60 2010_12                   24
61 2011_01                   21
62 2011_02                   19
63 2011_03                   16
64 2011_04                   15
65 2011_05                   15
66 2011_06                   15
67 2011_07                   15
68 2011_08                   47
69 2011_09                   36
70 2011_10                   25
71 2011_11                   13
72 2011_12                    8
73 2012_01                    5
74 2012_02                    5
75 2012_03                    5
76 2012_04                    4
77 2012_05                    3
78 2012_06                    2
79 2012_07                    2</code></pre>
<p>Across years (1994-1996, 2008-2012), sample sizes of transmitters
during Feb, Mar, and Apr were 65, 61, and 52, respectively. In the
1990s, very few transmitters functioned into the winter months, with
locations available for only 1 transmitter in 1995. Transmitters
persistence was greatly improved during the 2009-2012 period, with 39
transmitters in March of 2009, 21 transmitters in March 2010, 16
transmitters in March 2011, and 5 transmitters in March 2012.</p>
<p>To do: -Plot locations by year-month -identify periods between
locations within an individual track of &gt; 10 d: how many and when do
these breaks occur?</p>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.2.2 (2022-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 22621)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.utf8 
[2] LC_CTYPE=English_United States.utf8   
[3] LC_MONETARY=English_United States.utf8
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.utf8    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] workflowr_1.7.0

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.10      compiler_4.2.2   pillar_1.8.1     bslib_0.4.2     
 [5] later_1.3.0      git2r_0.31.0     jquerylib_0.1.4  tools_4.2.2     
 [9] getPass_0.2-2    digest_0.6.31    jsonlite_1.8.4   evaluate_0.20   
[13] lifecycle_1.0.3  tibble_3.1.8     pkgconfig_2.0.3  rlang_1.0.6     
[17] cli_3.6.0        rstudioapi_0.14  yaml_2.3.7       xfun_0.37       
[21] fastmap_1.1.0    httr_1.4.4       stringr_1.5.0    knitr_1.42      
[25] fs_1.6.1         vctrs_0.5.2      sass_0.4.2       rprojroot_2.0.3 
[29] glue_1.6.2       R6_2.5.1         processx_3.8.0   fansi_1.0.4     
[33] rmarkdown_2.20   callr_3.7.3      magrittr_2.0.3   whisker_0.4     
[37] ps_1.7.2         promises_1.2.0.1 htmltools_0.5.4  httpuv_1.6.9    
[41] utf8_1.2.3       stringi_1.7.12   cachem_1.0.6    </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
https://docs.mathjax.org/en/latest/web/configuration.html. This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
